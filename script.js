const PASSWORD = "zanethegodcracker";
const RESTOCK_PASSWORD = "restock"; // Password for restocking

const ACCOUNTS = {
    steam: [],
    netflix: [],
    vpn: [],
    roblox: [
        { id: 'thejourneyofarker', pass: 'R1cardoQiu20081986' },
        { id: 'karinaytvy9', pass: 'sdfghjjkkkk' },
        { id: 'Rizkartz', pass: 'Riotz123' },
        { id: 'tsisko2010', pass: 'Mariami14' },
        { id: 'Concakngong', pass: '11223344556677' },
        { id: 'pietrorozario', pass: 'gladi21l' },
        { id: 'Mugisama8596', pass: 'ducduong0803' },
        { id: 'GuisseppeGamer', pass: 'guisseppe0606' },
        { id: 'fruitgrindy', pass: 'Ryanchen' },
        { id: 'chuvawuba', pass: 'Wolf2006' },
        { id: 'Itzstonefan', pass: 'makiuki1' },
        { id: 'patriot_fart', pass: 'darkyyoulikeman' },
        { id: 'misha2630', pass: '0997012508' },
        { id: 'chimborojo', pass: 'nwaeazy-e15011' },
        { id: 'Hun123t', pass: 'vib123z.' },
        { id: 'ghsjjkdaugcnw', pass: '089967Fa' },
        { id: 'issay_sasaki', pass: 'issay123' },
        { id: 'Romen284recim', pass: 'brjrurueirjur' },
        { id: 'rip_r0z3n', pass: '0987654321' },
        { id: 'biffybiggie', pass: 'Kidswj2011' },
        { id: 'Aidenxz_Z', pass: 'AidDenzzzzz' },
        { id: 'aliaahlove', pass: '20130425' },
        { id: 'sloender1', pass: '123456gty,./' },
        { id: 'mjrmarco', pass: '$EqdnpxcA7946$' },
        { id: 'linhBloxfruit2', pass: 'chohaiacc' },
        { id: 'shinlexky', pass: 'SHINLEXKYTHEDEV' },
        { id: 'Zashugammer', pass: '36912345' },
        { id: 'banshee_Smokeyy', pass: 'Bear3200' },
        { id: 'mamaie_gaiming', pass: 'Andreas123@#' },
        { id: 'fabricio_luck12345', pass: '123123123123' },
        { id: 'VzietLam', pass: 'baobaoba' },
        { id: 'CZ3T', pass: '0618068388a' },
        { id: 'oRJ7ma', pass: 'zLRKoObspk' },
        { id: 'monsteryancar', pass: 'MONSTER3162' },
        { id: 'I373X', pass: 'YUHilj()-+AyuhjiKLERi89?9ilkEriK' },
        { id: 'Harpyslayer12', pass: 'kakaguate' },
        { id: 'Raulzera0505', pass: '11466905' },
        { id: 'HoanThietl0o6pz', pass: 'n3b8d2o0' },
        { id: 'xDragonghoten', pass: 'duc1122334455' },
        { id: 'Opratetetete', pass: 'helobnnho' },
        { id: 'akwyfa', pass: 'awwyfa2A@' },
        { id: 'bodx_1', pass: 'athbi-faiez' },
        { id: 'sabri26437', pass: '26437111' },
        { id: 'vasile5998florin', pass: 'ceauceau' },
        { id: 'brunaaparecida2121', pass: 'MIAUGATA' },
        { id: 'manokk9078', pass: 'hgegfydwryy' },
        { id: 'THEBONELESS123425', pass: '1122334455667788' },
        { id: 'justcallme_name', pass: 'ggnamegg123' },
        { id: 'x11memo11x', pass: 'memoalcivar2011.' },
        { id: 'pontus1104', pass: 'pontus11' },
        { id: 'meukamado8', pass: 'arcored645' },
        { id: 'marcusmx12', pass: 'pmorgan12' },
        { id: 'DeMONSlayEr1597', pass: 'am0917707154' },
        { id: 'bobula644535', pass: '7643972726476' },
        { id: 'Flowey00001', pass: 'awesome1' },
        { id: 'bobula6445357', pass: '7643972726476' },
        { id: 'mona34560', pass: '98765432' },
        { id: 'caminas399400', pass: 'tysicoomsooaosmamso' },
        { id: 'ElizabethAft0nUwU902', pass: 'fernandayarom' },
        { id: 'sonnedbyxtr', pass: 'cdw12711' },
        { id: 'elo568744', pass: '45670135' },
        { id: 'balulilu534', pass: '24657094' },
        { id: 'bobula64453578', pass: '7643972726476' },
        { id: 'FameKaitanX4', pass: 'ewsfgsydiblhdsvbuyeaorf' },
        { id: 'lisa2456778', pass: '678890-9' },
        { id: 'pandinha423342', pass: '98345012' },
        { id: 'leticiagatinho', pass: 'leticiagalhardo' },
        { id: 'joeljojo777', pass: 'yosoyjoel' },
        { id: 'Kriskata1703', pass: 'krispr' },
        { id: 'pintuduro1', pass: 'kawanzao' },
        { id: 'Rell_Von', pass: 'samtw189' },
        { id: 'zanny9090', pass: 'summer78611' },
        { id: 'lYuzl', pass: 'duckhang2812' },
        { id: 'jonesetorres2', pass: 'wallacy123' },
        { id: 'kayra_68689', pass: 'yaramas12' },
        { id: 'antonzakaria', pass: '111112002' },
        { id: 'holichyl', pass: 'yeica098' },
        { id: 'rafaelgamerrx1', pass: 'qwertyuiop' },
        { id: 'definitelynotomni6', pass: 'brodefinitelynotomnigamer' },
        { id: 'maxlirio100', pass: '81267313' },
        { id: 'Destructor901234', pass: 'marcoreus1624' },
        { id: 'xsa1234567890', pass: '0196035479' },
        { id: 'aerobika24', pass: 'negalima1' },
        { id: 'NBN99122', pass: 'meo1234789z' },
        { id: 'Sang2011sang', pass: 'sang1322009' },
        { id: 'darkresper2345454', pass: 'Ashlyn20' },
        { id: 'LarissaGada120', pass: 'larissaferreira' },
        { id: 'migueulito2335', pass: 'mogazin24' },
        { id: 'saifhaj26', pass: 'saif2006' },
        { id: 'capkuo', pass: 'nahee123' },
        { id: 'blockfrtxx5367', pass: 'peo200183' },
        { id: '978097499', pass: 'jiojiajiojia' },
        { id: 'Aliixm7md', pass: 'After!!2' },
        { id: 'alixm7mdx@gmail.com', pass: 'UpandDown2' },
        { id: 'bach8094@gmail.com', pass: 'xuanbach123' },
        { id: 'GUOKANDLOVEQT', pass: '0703255467' },
    ],
    games: [
        // Existing accounts
    ],
    valorant: [
       { id: 'StokarkO', pass: 'nuttertools88' },
       { id: 'Heatzy246', pass: 'Hajzlety_123' },
       { id: 'pantofla5046', pass: 'Hajzlety_123' },
       { id: 'heatzy', pass: 'Hajzlety_123' },
       { id: 'BetterCaNdY69', pass: 'enzo200544' },
       { id: 'ValotRobiBibe', pass: 'erykwala12' },
       { id: 'Dexon3000', pass: 'bambolek2005' },
       { id: 'kacoevo', pass: 'Kapi26012011' },
       { id: 'Kacoev', pass: 'Kacpevyt@2137193945' },
       { id: 'Kacpevo', pass: 'Kapi26012011Bruno' },
       { id: 'Kacoevo', pass: 'Kacper26012011Bruno052019' },
       { id: 'Maciusss1234567890', pass: 'Kapi26012011' },
       { id: 'kac*******@gm***.com', pass: 'Kyfbadyw123098' },
       { id: 'TUO1000', pass: 'dinamika01' },
       { id: 'madysiek', pass: 'B454750@10c' },
       { id: 'elizQua2137', pass: 'Jeden123' },
       { id: 'DZTZ69', pass: 'mikilubi34@pl' },
       { id: 'Dests69', pass: 'mikilubi34@pl' },
       { id: 'xenoxs', pass: 'pisiaczek' },
       { id: 'riky721992', pass: '0903949200Ja' },
       { id: 'animegirl998', pass: 'Kacperjakuc88@++' },
       { id: 'kacpi1064', pass: 'Kacperjakuc88@++' },
       { id: 'kacpi55763', pass: 'Kacperjakuc88@++' },
       { id: 'kacpi1064', pass: 'kacperjakuc88@+' },
       { id: 'Trixolini', pass: 'Iamtheboss123' },
       { id: 'TrixoAlt', pass: 'Iamtheboss123!' },
       { id: 'Questattand', pass: 'Iamtheboss123!' },
       { id: '6575', pass: 'Iamtheboss123!' },
       { id: 'sil***********@gm***.com', pass: 'Iamtheboss123!' },
       { id: 'sillyni', pass: 'Iamtheboss123' },
       { id: 'Trixolini', pass: 'Iamtheboss123!' },
       { id: 'ZetoGT', pass: 'Polokoko12' },
       { id: 'ReccoGT', pass: 'Polokoko12' },
    ],
    crunchyroll: [
        // Existing accounts
    ],
    random: [
        // Existing accounts
    ],
    amazon: [   // New category
        // Add accounts here
    ],
    hulu: [     // New category
        // Add accounts here
    ],
    disney: [   // New category
        // Add accounts here
    ],
    spotify: [  // New category
        // Add accounts here
    ]
};

const STOCK_COUNT = {
    steam: ACCOUNTS.steam.length,
    netflix: ACCOUNTS.netflix.length,
    vpn: ACCOUNTS.vpn.length,
    roblox: ACCOUNTS.roblox.length,
    games: ACCOUNTS.games.length,
    valorant: ACCOUNTS.valorant.length,
    crunchyroll: ACCOUNTS.crunchyroll.length,
    random: ACCOUNTS.random.length,
    amazon: ACCOUNTS.amazon.length,  // New category
    hulu: ACCOUNTS.hulu.length,      // New category
    disney: ACCOUNTS.disney.length,  // New category
    spotify: ACCOUNTS.spotify.length // New category
};

let userLastGenerationTime = {};
let isGenerating = false;
let timerInterval;
let regenTimeout;

document.getElementById('toolForm').addEventListener('submit', async function(event) {
    event.preventDefault();
    if (isGenerating) return;

    isGenerating = true;
    document.getElementById('generateButton').style.display = 'none';
    document.getElementById('regenButton').style.display = 'none';

    const passwordInput = document.getElementById('password').value;
    const accountType = document.getElementById('accountType').value;
    const resultDiv = document.getElementById('result');
    const timerDiv = document.getElementById('timer');

    if (passwordInput !== PASSWORD) {
        resultDiv.innerHTML = "<p style='color: red;'>Incorrect password</p>";
        isGenerating = false;
        document.getElementById('generateButton').style.display = 'block';
        return;
    }

    const currentTime = new Date().getTime();
    const lastGenerationTime = userLastGenerationTime[accountType] || 0;

    if (currentTime - lastGenerationTime < 5 * 1000) { // 5 seconds
        const remainingTime = Math.max(0, 5 * 1000 - (currentTime - lastGenerationTime));
        startCountdown(remainingTime);
        isGenerating = false;
        document.getElementById('generateButton').style.display = 'block';
        return;
    }

    userLastGenerationTime[accountType] = currentTime;
    clearInterval(timerInterval); // Clear any existing timer

    if (ACCOUNTS[accountType] && ACCOUNTS[accountType].length > 0) {
        const account = ACCOUNTS[accountType].shift();
        STOCK_COUNT[accountType]--;
        resultDiv.innerHTML = `<p>Generated <strong>${accountType}</strong> account: <strong>${account.id}</strong>/<strong>${account.pass}</strong></p>`;
        updateStockInfo();
        regenTimeout = setTimeout(() => {
            document.getElementById('generateButton').style.display = 'block';
            document.getElementById('regenButton').style.display = 'none';
            isGenerating = false;
        }, 5000); // 5-second slow mode
    } else {
        resultDiv.innerHTML = "<p style='color: red;'>Out of stock. Please contact Zane to restock.</p>";
        isGenerating = false;
        document.getElementById('generateButton').style.display = 'block';
    }
});

document.getElementById('regenButton').addEventListener('click', function() {
    if (!isGenerating) {
        document.getElementById('generateButton').click();
    }
});

document.getElementById('restockForm').addEventListener('submit', function(event) {
    event.preventDefault();

    const restockPasswordInput = document.getElementById('restockPassword').value;
    const restockFileInput = document.getElementById('restockFileInput').files[0];

    if (restockPasswordInput !== RESTOCK_PASSWORD) {
        document.getElementById('restockResult').innerHTML = "<p style='color: red;'>Incorrect restock password. Upload failed.</p>";
        return;
    }

    if (!restockFileInput) {
        document.getElementById('restockResult').innerHTML = "<p style='color: red;'>No file selected.</p>";
        return;
    }

    const reader = new FileReader();

    reader.onload = function (e) {
        const contents = e.target.result;
        const lines = contents.split('\n');
        const accountType = document.getElementById('accountType').value;
        const accounts = [];

        for (const line of lines) {
            const [id, pass] = line.split(':');
            if (id && pass) {
                accounts.push({ id: id.trim(), pass: pass.trim() });
            }
        }

        if (accounts.length > 0) {
            if (!ACCOUNTS[accountType]) {
                ACCOUNTS[accountType] = [];
                STOCK_COUNT[accountType] = 0;
            }
            ACCOUNTS[accountType].push(...accounts);
            STOCK_COUNT[accountType] += accounts.length;
            document.getElementById('restockResult').innerHTML = `<p style='color: green;'>Stock updated successfully for ${capitalize(accountType)}.</p>`;
            updateStockInfo();
        } else {
            document.getElementById('restockResult').innerHTML = "<p style='color: red;'>No valid accounts found in the uploaded file.</p>";
        }
    };

    reader.readAsText(restockFileInput);
});

function updateStockInfo() {
    const stockList = document.getElementById('stockList');
    stockList.innerHTML = "";

    for (const [category, count] of Object.entries(STOCK_COUNT)) {
        const listItem = document.createElement('li');
        listItem.innerHTML = `<strong>${capitalize(category)}:</strong> ${count} remaining`;

        // Add a toggle button to show/hide accounts
        const toggleButton = document.createElement('button');
        toggleButton.textContent = "Show Accounts";
        toggleButton.style.marginLeft = '10px';
        toggleButton.addEventListener('click', function() {
            const accountsDiv = listItem.querySelector('.accounts');
            if (accountsDiv.style.display === 'none') {
                accountsDiv.style.display = 'block';
                toggleButton.textContent = "Hide Accounts";
            } else {
                accountsDiv.style.display = 'none';
                toggleButton.textContent = "Show Accounts";
            }
        });

        listItem.appendChild(toggleButton);

        const accountsDiv = document.createElement('div');
        accountsDiv.className = 'accounts';
        accountsDiv.style.display = 'none';
        accountsDiv.style.marginTop = '5px';

        if (ACCOUNTS[category] && ACCOUNTS[category].length > 0) {
            const accountsTable = document.createElement('table');
            accountsTable.border = '1';
            accountsTable.style.borderCollapse = 'collapse';
            accountsTable.style.width = '100%';

            const headerRow = document.createElement('tr');
            const idHeader = document.createElement('th');
            idHeader.textContent = 'ID';
            const passHeader = document.createElement('th');
            passHeader.textContent = 'Password';
            headerRow.appendChild(idHeader);
            headerRow.appendChild(passHeader);
            accountsTable.appendChild(headerRow);

            ACCOUNTS[category].forEach(account => {
                const row = document.createElement('tr');
                const idCell = document.createElement('td');
                idCell.textContent = account.id;
                const passCell = document.createElement('td');
                passCell.textContent = account.pass;
                row.appendChild(idCell);
                row.appendChild(passCell);
                accountsTable.appendChild(row);
            });

            accountsDiv.appendChild(accountsTable);
        } else {
            accountsDiv.innerHTML = "<p>No accounts available.</p>";
        }

        listItem.appendChild(accountsDiv);
        stockList.appendChild(listItem);
    }
}

function capitalize(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
}

function startCountdown(remainingTime) {
    const timerDiv = document.getElementById('timer');
    let timeLeft = Math.ceil(remainingTime / 1000);

    timerDiv.innerHTML = `<p style='color: red;'>Please wait ${timeLeft}s before generating another account.</p>`;

    timerInterval = setInterval(() => {
        timeLeft--;
        if (timeLeft > 0) {
            timerDiv.innerHTML = `<p style='color: red;'>Please wait ${timeLeft}s before generating another account.</p>`;
        } else {
            clearInterval(timerInterval);
            timerDiv.innerHTML = "";
            document.getElementById('generateButton').style.display = 'block';
        }
    }, 1000);
}

// Initialize stock info on page load
window.onload = updateStockInfo;

